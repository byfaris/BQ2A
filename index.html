<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMG MINI | أقراص التصادم المحسنة</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --pink: #ff00ff; --bg: #020205; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background: var(--bg); color: white; font-family: 'Cairo', sans-serif;
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
            background-image: radial-gradient(circle, #1a1a2e 0%, #000 100%);
        }

        .hud { width: 100%; padding: 15px; display: flex; justify-content: space-around; z-index: 100; }
        .stat-box { background: rgba(0,0,0,0.6); border: 1px solid var(--neon); padding: 8px; border-radius: 10px; min-width: 90px; text-align: center; font-size: 14px; font-family: 'Orbitron'; }

        .arena { flex-grow: 1; position: relative; width: 100%; display: flex; align-items: center; justify-content: center; gap: 40px; }

        /* الأقراص بحجم مصغر ومناسب */
        .disk {
            width: 90px; height: 90px; border-radius: 50%;
            background: #111; border: 3px solid var(--neon);
            position: relative; transition: 0.3s ease;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
            font-size: 14px; font-weight: bold;
        }

        /* حركة الهجوم (للأعلى ثم للأسفل بقوة) */
        .jump-attack { animation: jump-hit 0.5s ease-in-out forwards; }

        @keyframes jump-hit {
            0% { transform: scale(1) translateY(0); }
            40% { transform: scale(1.4) translateY(-120px); } /* قفزة للأعلى */
            100% { transform: scale(1) translateY(0); }
        }

        /* حركة دوران وانقلاب قرص الخصم عند الضرب */
        .enemy-spin { animation: spin-flip 0.7s cubic-bezier(0.23, 1, 0.32, 1) forwards; }

        @keyframes spin-flip {
            0% { transform: rotateX(0) rotateZ(0) scale(1); }
            30% { transform: rotateX(180deg) rotateZ(180deg) scale(1.3) translateY(-20px); } /* الطيران والدوران */
            100% { transform: rotateX(180deg) rotateZ(360deg) scale(1); translateY(0); }
        }

        .disk.flipped { border-color: var(--pink); box-shadow: 0 0 20px var(--pink); }

        .label { position: absolute; bottom: -25px; font-size: 10px; color: var(--neon); text-transform: uppercase; }

        /* اهتزاز الشاشة */
        .shake { animation: screen-shake 0.2s; }
        @keyframes screen-shake {
            0%, 100% { transform: translate(0,0); }
            25% { transform: translate(4px, 4px); }
            75% { transform: translate(-4px, -4px); }
        }
    </style>
</head>
<body id="body-node">

    <div class="hud">
        <div class="stat-box"><div>ROUND</div><div>1/3</div></div>
        <div class="stat-box"><div>WINS</div><div id="score">0</div></div>
    </div>

    <div class="arena">
        <div class="disk" id="player-disk" onclick="app.attack()">
            MAMG
            <div class="label">PLAYER</div>
        </div>

        <div class="disk" id="enemy-disk">
            ENEMY
            <div class="label">OPPONENT</div>
        </div>
    </div>

    <script>
        const app = {
            score: 0,
            isLocked: false,

            attack: function() {
                if (this.isLocked) return;
                this.isLocked = true;

                const pDisk = document.getElementById('player-disk');
                const eDisk = document.getElementById('enemy-disk');
                const body = document.getElementById('body-node');

                // 1. بدء الهجوم
                pDisk.classList.add('jump-attack');

                // 2. لحظة الارتطام
                setTimeout(() => {
                    body.classList.add('shake');
                    
                    // إذا نجحت الضربة، يبدأ قرص الخصم بالدوران والانقلاب
                    if (Math.random() > 0.4) {
                        eDisk.classList.remove('enemy-spin');
                        void eDisk.offsetWidth; // ريسيت للأنيميشن
                        eDisk.classList.add('enemy-spin');
                        
                        setTimeout(() => {
                            eDisk.classList.add('flipped');
                            this.score++;
                            document.getElementById('score').innerText = this.score;
                        }, 300);
                    }

                    setTimeout(() => body.classList.remove('shake'), 200);
                }, 350);

                // 3. إنهاء الحركة
                setTimeout(() => {
                    pDisk.classList.remove('jump-attack');
                    this.isLocked = false;
                }, 500);
            }
        };
    </script>
</body>
</html>
