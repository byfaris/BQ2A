<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMG CIRCLES | الأقراص المتصادمة</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --pink: #ff00ff; --bg: #050508; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background: var(--bg); color: white; font-family: 'Cairo', sans-serif;
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
            background-image: radial-gradient(circle, #1a1a2e 0%, #000 100%);
        }

        .hud { width: 100%; padding: 20px; display: flex; justify-content: space-around; z-index: 100; }
        .stat-box { background: rgba(0,0,0,0.5); border: 1px solid var(--neon); padding: 10px; border-radius: 12px; min-width: 100px; text-align: center; font-family: 'Orbitron'; }

        .arena { flex-grow: 1; position: relative; width: 100%; display: flex; align-items: center; justify-content: center; gap: 50px; }

        /* الأقراص الدائرية */
        .disk {
            width: 140px; height: 140px; border-radius: 50%;
            background: #111; border: 4px solid var(--neon);
            position: relative; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.3);
            font-weight: bold;
        }

        /* أنيميشن القفز والضرب */
        .jump-attack { animation: jump-hit 0.6s ease-in-out; }

        @keyframes jump-hit {
            0% { transform: scale(1) translateY(0); z-index: 10; }
            40% { transform: scale(1.5) translateY(-100px); z-index: 50; } /* للأعلى */
            60% { transform: scale(1.2) translateY(0); z-index: 50; } /* النزول والضرب */
            100% { transform: scale(1) translateY(0); }
        }

        .disk.flipped { transform: rotateX(180deg); border-color: var(--pink); box-shadow: 0 0 25px var(--pink); }

        .label { position: absolute; bottom: -30px; font-size: 12px; color: var(--neon); }
        
        #impact-fx {
            position: absolute; width: 100px; height: 100px; border-radius: 50%;
            background: white; opacity: 0; pointer-events: none; transform: scale(0);
        }
        .flash { animation: flash-anim 0.3s; }
        @keyframes flash-anim {
            0% { transform: scale(0); opacity: 0.8; }
            100% { transform: scale(3); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="hud">
        <div class="stat-box"><div>ROUND</div><div>1/3</div></div>
        <div class="stat-box"><div>WINS</div><div id="score">0</div></div>
    </div>

    <div class="arena" id="main-arena">
        <div class="disk" id="player-disk" onclick="app.attack()">
            MAMG
            <div class="label">لاعبك</div>
        </div>

        <div class="disk" id="enemy-disk">
            ENEMY
            <div class="label">المنافس</div>
        </div>

        <div id="impact-fx"></div>
    </div>

    <script>
        const app = {
            score: 0,
            isLocked: false,

            attack: function() {
                if (this.isLocked) return;
                this.isLocked = true;

                const pDisk = document.getElementById('player-disk');
                const eDisk = document.getElementById('enemy-disk');
                const fx = document.getElementById('impact-fx');

                // 1. القفز والضرب
                pDisk.classList.add('jump-attack');

                // 2. لحظة الاصطدام (عند 0.4 ثانية)
                setTimeout(() => {
                    // إظهار فلاش الاصطدام
                    fx.style.left = (eDisk.offsetLeft + 20) + "px";
                    fx.style.top = (eDisk.offsetTop + 20) + "px";
                    fx.classList.add('flash');

                    // منطق قلب قرص المنافس
                    if (Math.random() > 0.4) {
                        eDisk.classList.toggle('flipped');
                        if (eDisk.classList.contains('flipped')) {
                            this.score++;
                            document.getElementById('score').innerText = this.score;
                        }
                    }

                    setTimeout(() => fx.classList.remove('flash'), 300);
                }, 400);

                // 3. إنهاء الحركة
                setTimeout(() => {
                    pDisk.classList.remove('jump-attack');
                    this.isLocked = false;
                }, 600);
            }
        };
    </script>
</body>
</html>
